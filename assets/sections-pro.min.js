var started=0;if(top!==self&&"undefined"==typeof jQuery){var headTag=document.getElementsByTagName("head")[0],jqTag=document.createElement("script");jqTag.type="text/javascript",jqTag.src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js",jqTag.onload=sectionProStart,headTag.appendChild(jqTag)}else 0==started&&sectionProStart();function sectionProStart(){var e="815b8e6a60784ab14d4988686a87891bnpOf2qispcilwpqUoLGmzKKjn52qkpunznZlQVBKVVoyWnUxMDI=",t=!1,n="https://deprohoang.com/sections-pro/",i=new XMLHttpRequest;if(i.open("GET",n+"spa/",!1),i.send(null),parseInt(i.responseText)){var a=document.querySelectorAll('div[class*="-pro-"],div[id*="-pro-"]');a.length>0&&[].forEach.call(a,function(e){e.remove()})}if(top===self)return;"undefined"==typeof handle_id&&(handle_id="");var o=jQuery,s=n+"ajax.php";let r=parent.window.document.getElementsByClassName("theme-editor");var l=o(r[0]);let c=parent.window.document.getElementsByClassName("next-tab__panel--is-active");var d=o(c[0]);l.find(".theme-editor__add-section-item").each(function(){"DeproSection"==o(this).text()&&o(this).parent(".theme-editor__add-section").hide()}),d.find(".section-pro-options").remove(),0==d.find(".depro_sections").length&&d.eq(0).append('<div style="position: absolute;bottom: -100px;width: 100%;" class="ui-stack-item ui-stack-item--fill depro_sections theme-editor__section-list"><ul class="theme-editor-action-list theme-editor-action-list--divided next-card theme-editor__card" ><li><button class="depro_add_sections ui-button btn--full-width theme-editor-action-list__item theme-editor-action-list__item--link"><div class="ui-stack ui-stack--alignment-center ui-stack--spacing-none"><div class="ui-stack-item stacked-menu__item-icon"><div class="theme-editor__icon"><svg aria-hidden="true" focusable="false" class="next-icon next-icon--color-blue-light next-icon--size-24"> <use xlink:href="#add-section"></use></svg></div></div><div class="ui-stack-item ui-stack-item--fill">Add section</div></div></button></li></ul></div><style>ul[data-fixed-section-id*=-pro-] .theme-editor-action-list__item[draggable]{background-image: url('+n+"images/drag-indicator.png);background-repeat: no-repeat;background-position: 92% center; background-size: 12px;}ul.dragging{border-top:2px solid #ccc;border-bottom:2px solid #ccc}</style>"),parent.window.location.href.indexOf("editor#")>0?d.find(".depro_sections").animate({bottom:"0px"}):d.find(".depro_sections").animate({bottom:"-100px"});var p,u=setInterval(function(){let e=parent.window.document.getElementById("SidebarIndex"),t=o(e).find("[data-fixed-section-id*='-pro-']");t.length>0&&(t.each(function(e){let t=o(this).attr("data-fixed-section-id").split("-pro-");m[t[1]]=t[1],o(this).attr("draggable","true"),this.addEventListener("drop",g),this.addEventListener("dragover",h),this.addEventListener("dragstart",b)}),clearInterval(u))},1e3),f=0,m=[];function g(n){if(f>0){let a=o(n.target).closest("ul").attr("data-fixed-section-id").split("-pro-");if(a=a[1],p==a)return;i={action:"sortable",originChange:p,changedTo:a,secret:e},t=!0,o.post(s,i,function(e,n){t=!1,void 0!==e.error?(confirm("Sections pro notification \nTrial period has expired ! \nPlease contact with app support : deprohoang@gmail.com"),parent.location.reload()):parent.location.reload()}),f=0}var i}function h(e){o(e.target).closest(".theme-editor__section-list").find("ul").removeClass("dragging"),o(e.target).closest("ul").addClass("dragging"),e.preventDefault()}function b(e){f++,p=(p=o(e.target).attr("data-fixed-section-id").split("-pro-"))[1]}function x(){return $deproAdding=l.find(".depro--adding-section"),$deproAdding.find(".te-panel__header-action--subdued").on("click",function(e){return e.preventDefault(),l.find(".theme-editor__container").removeClass("depro--adding-section"),l.find("#add-section-panel").attr("style",""),!1}),$deproAdding.on("click","li.theme-editor__add-section",function(n){n.preventDefault();let i=JSON.parse(o(this).attr("data-new-section")),a=window.location.href,s=a.indexOf(".myshopify.com/"),r=a.indexOf("?");correctsub=a.substr(s+15,r-s-15);var c=!1,p="",u=["",""];if(correctsub.indexOf("pages/")>-1&&(c=!0,p='<div class="theme-setting theme-setting--text"><label class="next-label" for="section-pro-5">'+(u=["pages","page"])[1]+' template</label><input type="text" id="section-pro-5" placeholder="alternate;contact" class="next-input"></div>'),correctsub.indexOf("blogs/")>-1&&correctsub.split("/").length>2&&(u=["articles","article"],c=!0,p='<div class="theme-setting theme-setting--text"><label class="next-label" for="section-pro-2">Tag</label><input type="text" id="section-pro-2" placeholder="tag1;tag2" class="next-input"></div>'),correctsub.indexOf("collections/")>-1&&(c=!0,p='<div class="theme-setting theme-setting--text"><label class="next-label" for="section-pro-5">'+(u=["collections","collection"])[1]+' template</label><input type="text" id="section-pro-5" placeholder="alternate;contact" class="next-input"></div>'),correctsub.indexOf("products/")>-1&&(c=!0,p='<div class="theme-setting theme-setting--text"><label class="next-label" for="section-pro-1">Vendor</label><input type="text" id="section-pro-1" placeholder="Example: vendor1;vendor2" class="next-input"></div><div class="theme-setting theme-setting--text"><label class="next-label" for="section-pro-2">Tag</label><input type="text" id="section-pro-2" placeholder="tag1;tag2" class="next-input"></div><div class="theme-setting theme-setting--text"><label class="next-label" for="section-pro-3">Product type</label><input type="text" id="section-pro-3" placeholder="type1;type2" class="next-input"></div><div class="theme-setting theme-setting--text"><label class="next-label" for="section-pro-4">Collections</label><input type="text" id="section-pro-4" placeholder="collection name 1;collection name 2" class="next-input"></div><div class="theme-setting theme-setting--text"><label class="next-label" for="section-pro-5">'+(u=["products","product"])[1]+' template</label><input type="text" id="section-pro-5" placeholder="alternate;contact" class="next-input"></div>'),c){var f='<section class="section-pro-options next-card theme-editor__card"><header class="next-card__header theme-setting theme-setting--header"><h3 class="ui-subheading">Section Pro options</h3></header><section class="next-card__section"><input type="hidden" id="section-pro-name" value="'+i.type+'"> <div class="theme-setting theme-setting--radio" data-setting-container=""><label class="next-label" for="setting-icon_cart">Optional insert section</label><div class="theme-setting--radio-wrapper"><label for="setting-icon_cart-0" class="next-label next-label--switch"><input type="radio" name="insertsection" value="one" id="setting-icon_cart-0" class="next-radio" checked="checked"><span class="next-radio--styled"></span>For this '+u[1]+'</label></div><div class="theme-setting--radio-wrapper"><label for="setting-icon_cart-2" class="next-label next-label--switch"><input type="radio" name="insertsection" value="all" id="setting-icon_cart-2" class="next-radio"><span class="next-radio--styled"></span> For all '+u[0]+'</label></div></div> <div class="theme-setting section-pro-settings"><p>Insert section satisfy the conditions</p>'+p+' </div><button class="ui-button ui-button--primary" id="insert_section_pro" type="button" name="button">Insert section <svg focusable="false" version="1.1" class="ajaxloading next-icon next-icon--size-16" x="0px" y="0px" width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="0" width="4" height="10" fill="#333" transform="translate(0 2.27813)"><animateTransform attributeType="xml" attributeName="transform" type="translate" values="0 0; 0 20; 0 0" begin="0" dur="0.6s" repeatCount="indefinite"></animateTransform></rect><rect x="10" y="0" width="4" height="10" fill="#333" transform="translate(0 15.6115)"><animateTransform attributeType="xml" attributeName="transform" type="translate" values="0 0; 0 20; 0 0" begin="0.2s" dur="0.6s" repeatCount="indefinite"></animateTransform></rect><rect x="20" y="0" width="4" height="10" fill="#333" transform="translate(0 11.0552)"><animateTransform attributeType="xml" attributeName="transform" type="translate" values="0 0; 0 20; 0 0" begin="0.4s" dur="0.6s" repeatCount="indefinite"></animateTransform></rect></svg></button><button class="ui-button" id="cancel_insert_section_pro" type="button" name="button">Cancel</button> </section><style>.section-pro-options{position: absolute;bottom: 0px;top:116px;left:-300px;z-index: 11;background: #fff;width: 100%;box-sizing: border-box;min-height: 300px;}.section-pro-settings{display:none;}.ajaxloading{display:none;}.sinserting svg{display:inline-block !important;}.theme-editor-action-list__item[draggable]{background-image: url(https://deprohoang.com/sections-pro/images/drag-indicator.png);background-repeat: no-repeat;background-position: 92% center; background-size: 12px;}</style></section>';0==d.find(".section-pro-options").length&&d.eq(0).append(f),d.find(".section-pro-options").animate({left:"0px"})}else 1!=t&&v({action:"add",url:a,section:i.type,show:"one",sid:handle_id,secret:e});return l.find(".theme-editor__container").removeClass("depro--adding-section"),l.find("#add-section-panel").attr("style",""),!1}),l.on("click","#insert_section_pro",function(){if(!o(this).hasClass("sinserting")){o(this).addClass("sinserting");let n=window.location.href,i=l.find("#section-pro-name").val(),a=l.find('input[name="insertsection"]:checked').val(),s=l.find("#section-pro-2").length>0?l.find("#section-pro-2").val():"",r=l.find("#section-pro-1").length>0?l.find("#section-pro-1").val():"",c=l.find("#section-pro-3").length>0?l.find("#section-pro-3").val():"",d=l.find("#section-pro-4").length>0?l.find("#section-pro-4").val():"",p=l.find("#section-pro-5").length>0?l.find("#section-pro-5").val():"";1!=t&&v({action:"add",url:n,sid:handle_id,section:i,show:a,vendor:r,tag:s,type:c,collection:d,suffix:p,secret:e})}}),l.on("click","#cancel_insert_section_pro",function(){d.find(".section-pro-options").animate({left:"-300px"})}),l.on("click",'input[name="insertsection"]',function(){"all"==o(this).val()?l.find(".section-pro-settings").length>0&&l.find(".section-pro-settings").show():l.find(".section-pro-settings").length>0&&l.find(".section-pro-settings").hide()}),!1}function v(e){t=!0,o.post(s,e,function(e,n){t=!1,void 0!==e.error?(confirm(e.error),l.find(".section-pro-options").remove(),parent.location.reload()):(l.find(".section-pro-options").remove(),parent.location.reload())})}l.on("click","a.theme-editor-action-list__item",function(){let e=o(this).attr("data-bind-event-click");e=e.replace('action("openSectionPanel", "',"").replace('")',"");var t=l.find("#section-"+e+"-"+e).find(".te-panel__wrapper");if(0==t.find(".section_pro_delete").length){let n=e.split("-pro-").pop();if(isNaN(parseInt(e))&&Number.isInteger(parseInt(n))){let n=t.children("h3.theme-editor__subheading");t=n.eq(n.length-1).next(),o('<div class="section_pro_delete te-panel__wrapper--padded" section-id="'+e+'"><button class="ui-button" type="button" name="button"><svg aria-hidden="true" focusable="false" class="next-icon next-icon--size-16"><use xlink:href="#delete-minor"></use></svg> Remove section <svg aria-hidden="true" focusable="false" class="ajaxloading next-icon next-icon--size-16" x="0px" y="0px" width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;display:none" xml:space="preserve"><rect x="0" y="0" width="4" height="10" fill="#333" transform="translate(0 2.27813)"><animateTransform attributeType="xml" attributeName="transform" type="translate" values="0 0; 0 20; 0 0" begin="0" dur="0.6s" repeatCount="indefinite"></animateTransform></rect><rect x="10" y="0" width="4" height="10" fill="#333" transform="translate(0 15.6115)"><animateTransform attributeType="xml" attributeName="transform" type="translate" values="0 0; 0 20; 0 0" begin="0.2s" dur="0.6s" repeatCount="indefinite"></animateTransform></rect><rect x="20" y="0" width="4" height="10" fill="#333" transform="translate(0 11.0552)"><animateTransform attributeType="xml" attributeName="transform" type="translate" values="0 0; 0 20; 0 0" begin="0.4s" dur="0.6s" repeatCount="indefinite"></animateTransform></rect></svg></button></div>').insertAfter(t)}}}),l.on("click",".section_pro_delete",function(){let n=window.location.href;o(this).find(".ajaxloading").show(),1!=t&&v({action:"delete",url:n,section_id:o(this).attr("section-id"),secret:e})}),l.on("click",".depro_add_sections",function(e){if(e.preventDefault(),parent){let e=parent.document.getElementsByClassName("theme-editor"),t=o(e[0]).find(".theme-editor__container");return t.addClass("depro--adding-section"),t.find("#add-section-panel").attr("style","transform: translateY(0);display: flex;"),t.find(".is-loading").css("display","none"),x(),!1}})}window.onerror=function(){0==started&&sectionProStart()};